{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<h2>ğŸ“‹ ì£¼ê°„ ë³´ê³  ëŒ€ì‹œë³´ë“œ</h2>

<form method="get" style="margin-bottom: 1rem;">
  <input type="text" name="name" placeholder="ì´ë¦„" value="{{ filters.name }}">
  <input type="text" name="project" placeholder="í”„ë¡œì íŠ¸ëª…" value="{{ filters.project }}">
  <input type="text" name="location" placeholder="ì§€ì—­" value="{{ filters.location }}">
  <input type="text" name="week" placeholder="ì£¼ì°¨ (ì˜ˆ: Y25W30)" value="{{ filters.week }}">
  <button type="submit">ê²€ìƒ‰</button>
</form>

<div style="margin-bottom: 1rem;">
  <a href="{{ url_for('report.create_report') }}"><button>+ ë³´ê³ ì„œ ì‘ì„±</button></a>
  <a href="{{ url_for('project.create_project') }}"><button>+ í”„ë¡œì íŠ¸ ë“±ë¡</button></a>

</div>

<div style="display: flex; flex-wrap: wrap; gap: 1rem;">
  {% for update in updates %}
    <div style="border: 1px solid #ccc; padding: 1rem; border-radius: 8px; width: 300px; background: #fafafa;">
      <strong>{{ update.user.name }} ({{ update.user.position }})</strong><br>
      <span>ğŸ—‚ {{ update.project.project_name }}</span><br>
      <span>ğŸ“ {{ update.project.location }}</span><br>
      <span>ğŸ“… {{ update.week }}</span><br><br>
      <a href="{{ url_for('report.view_report', update_id=update.id) }}">â¡ ìƒì„¸ ë³´ê¸°</a>
    </div>
  {% endfor %}
</div>

<script>
function openProjectPopup() {
  alert("ğŸ’¡ í”„ë¡œì íŠ¸ ë“±ë¡ íŒì—…ì€ ì•„ì§ ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
}
</script>
{% endblock %}
